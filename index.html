<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Fix posture</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link id="favicon" rel="icon" href="https://cdn.glitch.com/ec7ef02b-8dc9-4e3b-92c9-82124d3c2d83%2Ffav.png?v=1567672040061">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,500i,900i|VT323&display=swap" rel="stylesheet">
    
    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css">
    
    <!-- load p5.js -->
    <!-- We use p5.js to get access to the webcamera and use canvas easier -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/addons/p5.dom.min.js"></script>
    
    <!-- load ml5.js -->
    <!-- We use ml5.js because of simple syntax. Simple syntax forever. <3 -->
    <script src="https://unpkg.com/ml5@0.2.3/dist/ml5.min.js" type="text/javascript"></script>
    
    <!-- Our logic is here -->
    <script src="/posenet.js"></script>
    <!-- import the webpage's javascript file -->
    <script src="/script.js" defer></script>
  </head>  
  <body>
    <div id="name_img">
     <img src="https://cdn.glitch.com/ec7ef02b-8dc9-4e3b-92c9-82124d3c2d83%2Fheader.svg?v=1567505801155">
     <img src="https://cdn.glitch.com/ec7ef02b-8dc9-4e3b-92c9-82124d3c2d83%2Fheader.svg?v=1567505801155">
     <img src="https://cdn.glitch.com/ec7ef02b-8dc9-4e3b-92c9-82124d3c2d83%2Fheader.svg?v=1567505801155">
    </div>
    <div id="head">
      <div class="card pink left_shadow ">
        <div id="descriptionText">
          <h2>
            What is it?
          </h2>
          <p>
            This experiment blurs your screen when you keep not correct posture. To try it, you need to allow camera access. It doesn’t stole your data. <span id="reminderText">START KEEPING GOOD POSTURE BEFORE START.</span>
          </p>
        </div>
        <div id="startbuttonCont" onmouseover="reminder()" onmouseout="reminderOff()" class="right_align">
          <button class="yellow right_shadow" onclick="start()" id="startbutton">
            start
          </button>
        </div>
      </div>
      
      <div class="double_cards">
        <div>
          <div class="card small yellow right_shadow">
            <p>
              Made by <a class="pink a_lefttext right_shadow" href="twitter.com/@monolesan">@monolesan</a>
            </p>
          </div>
            <img id="creationprocessHeader" src="https://cdn.glitch.com/ec7ef02b-8dc9-4e3b-92c9-82124d3c2d83%2Fcreationprocess.svg?v=1567557912850">
        </div>
         <div class="card middle yellow left_shadow">
           <h2>
             Project links
           </h2>
          <p>
            <a class="pink a_righttext left_shadow" href="twitter.com/@monolesan">Design in Figma</a> — look at detailed process #OpenDesign
          </p>
          <p>
            <a class="pink a_righttext left_shadow" href="twitter.com/@monolesan">Code on Glitch</a> — remix and create your own stuff
          </p>
        </div>
      </div>
      
      <div id="firstDesignSection">
        <h1>
          design: exploration&ideation
        </h1>
      </div>
<!--         problem and why it's important -->
      <div class="double_cards">
        <div class="card middle pink right_shadow">
          <h2>
            Problem
          </h2>
          <p>
            People don’t keep good posture sitting in front of computer
          </p>
        </div>
        <div class="textblock small">
          <h2>
            Why it's important?
          </h2>
          <p>
            People don’t keep good posture sitting in front of computer
          </p>
        </div>
      </div>
<!--       good and bad posture -->
      <div class="double_cards">
        <div class="textblock">
          <h2>
             What is correct posture?
          </h2>
          <ul>
            <li>Legs on table/chair</li>
            <li>Body leans towards a screen</li>
            <li>Cross-legged sitting</li>
            <li>Lean on one hand</li>
            <li>Arm on face</li>
            <li>Other strange poses</li>
          </ul>
        </div>
        <div class="textblock">
          <h2>
             What's bad posture?
          </h2>
          <ul>
            <li>Legs on table/chair</li>
            <li>Body leans towards a screen</li>
            <li>Cross-legged sitting</li>
            <li>Lean on one hand</li>
            <li>Arm on face</li>
            <li>Other strange poses</li>
          </ul>
        </div>
      </div>
      <div class="textblock">
        <h2>
          Where and when do people use computer?
        </h2>
        <ul>
          <li>While work at office/public places/home</li>
          <li>While studying at university/school/etc.</li>
          <li>Having fun</li>
          <li>Other situations that I can't come up with</li>
        </ul>
      </div>
<!--       how and why people keep not good posture????? -->
<!--       <div class="double_cards"> -->
        <div class="textblock">
          <h2>
             Why do people keep not correct posture?
          </h2>
          <ul>
            <li>Work place isn’t comfortable</li>
            <li>The back muscles aren’t trained</li>
            <li>Healthy problems</li>
            <li>Habit to keep not correct posture</li>
            <li>Human doesn’t care</li>
            <li>Human doesn’t know they keep not correct posture</li>
          </ul>
        </div>
        <div class="textblock">
          <h2>
             How to keep correct posture? (if it’s not health problem)
          </h2>
          <ul>
            <li>Train the back muscles</li>
            <li>Make your work place comfortable for your body</li>
            <li>Control your posture</li>
            <li>Sleep in correct pose on correct mattress with pillows</li>
          </ul>
        </div>
<!--       </div> -->
<!--       ideas -->
      <div class="card pink left_shadow">
        <h2>
          Ideas
        </h2>
        <ul>
          <li>Camera detects human’s posture and alert when the posture is bad</li>
          <li>Reminder to check the posture every hour</li>
          <li>Sticker on a computer that reminds to keep good posture</li>
          <li>Chair for correct posture</li>
          <li>Posture corrector</li>
          <li>Cyber suit that detects position of your body (even your legs !!)</li>
        </ul>
      </div>
<!--       why it's not the best solution and solution -->
      <div class="double_cards">
        <div class="textblock middle">
          <h2>
            Why isn’t solution the best?
          </h2>
          <p>
            Correct posture is when all your body in correct position. Camera detects only top of body. But it’s enough to remind to keep posture. The best solution is a cyber suit that controls all body.
          </p>
        </div>
        <div id="solution" class="card yellow right_shadow small">
          <h2>
            Solution
          </h2>
          <p>
            Screen are blured when a human doesn’t keep correct posture </br>
            ✰ア-ア-ア
          </p>
        </div>
      </div>
      <div id="firstCodeSection">
        <h1>
          code time
        </h1>
      </div>
<!--       how will it work -->
      <div class="card pink right_shadow">
        <h2>
          What the program is used?
        </h2>
        <p>
          <a class="yellow a_righttext left_shadow" href="https://www.tensorflow.org/js/">TensorFlow.js PoseNet model</a> detects our body parts ＜3
        </p>
        <p>
          <a class="yellow a_righttext left_shadow" href="https://p5js.org/">p5.js</a> helps to work with canvas and camera
        </p>
        <p>
          <a class="yellow a_righttext left_shadow" href="https://ml5js.org/">ml5.js</a> for easy work with PoseNet
        </p>
        <p>
          <a class="yellow a_righttext left_shadow" href="https://www.analyticsvidhya.com/blog/2019/06/build-machine-learning-model-in-your-browser-tensorflow-js-deeplearn-js/">Cool guide</a> how to work with everything above if you don't know
        </p>
      </div>
<!--   start with bluuuurrrrrrrrrrrr -->
      <div class="textblock">
        <h2>
          Blurrrrrrrrrrrrrrrrrrrr me baby please
        </h2>
        <p>
          I created two functions. One <span onmouseover="highlightCode(this.id)" onmouseout="removeHighlight(this.id)" id="blurs">of them <span class="code_explain">blurs</span></span> the screen, the second one <span onmouseover="highlightCode(this.id)" onmouseout="removeHighlight(this.id)" id="removesblur" class="code_explain">removes blur</span>:
        </p>
      </div>
      <div class="code left_shadow">
        <p>
          <span id="blurs_code">function blurScreen() {</br>
              document.body.style.filter = 'blur(10px)';</br>
              document.body.style.transition= '0.9s';</br>
          }</br></span>
          </br>
          <span id="removesblur_code">function removeBlur() {</br>
              document.body.style.filter = 'blur(0px)';</br>
          }</span>
        </p>
      </div>
<!-- it works lise I want -->
      <div class="textblock">
        <h2>
          It works like I wanted but doesn’t like I devised
        </h2>
        <p>
          The next step was to detect all needed body parts: right and left eyes, shoulders, wrists, knees and ankles. I did it, but there was a not tiny problem. Sometimes, camera detected wallpapers, shoulders and my right breast as ankles or knees. .-. 
        </p>
        <p>
          So, it worked unstable and I decided to start with eyes detection.
        </p>
        <p>
          New goal was — get the first right eye position when the human is sitting with good posture, then track eye when the human moves and check the difference between current eye position and default position. And to do it with left eye.
        </p>
      </div>
      <div class="code right_shadow">
        <p> 
          <span class="comment">//Position of eyes when after a human has pressed the button “start”. Default position.</span></br>
        while (defaultRightEyePosition.length < 1) {</br>
          defaultRightEyePosition.push(rightEye.y);</br>
        }
        </p>
        <p>
          <span class="comment">//Compare default position with current position. If the difference more than 15, it means a person doesn't keep good posture and program calls the function that blurs screen.</span></br>
          if (Math.abs(rightEye.y - defaultRightEyePosition[0]) > 15) {</br>
            blurScreen();</br>
          }
        </p>
        <p>
          <span class="comment">//If the difference less than 15, it means a person is sitting with correct posture.</span>
          if (Math.abs(rightEye.y - defaultRightEyePosition[0]) < 15) {</br>
            removeBlur();</br>
          }</br>
        </p>
        </div>
        <div class="textblock">
          <p>
             Cool! Despite the fact that it tracks only right eye, it works well like a monster in a dark forest where everyone wants to eat you!
          </p>
          <p>
             So, and I decided that one eye tracking is enough for the experiment.
          </p>
        </div>
      <div>
      </div>
    </div>

    <div id="visual_section">
      <h1>
        vissssual design
      </h1>
    </div>

    <div id="videoContainer">
      
    </div>
   
  </body>
</html>
